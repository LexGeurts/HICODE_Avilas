flows:
  get_recipe:
    nlu_trigger:
      - intent: ask_recipe
    description: "Helps users find a recipe based on ingredients."
    steps:
      - collect: ingredients
      - collect: query_wish
      - action: action_search_recipe
      - action: action_vibevoice_speak
      - collect: wants_explanation
        next:
          - if: slots.wants_explanation
            then:
              - link: explain_recipe
          - else: END

  check_healthiness:
    nlu_trigger:
      - intent: ask_healthiness
    description: "Assesses if a specific food item is healthy."
    steps:
      - collect: food_item
      - action: action_check_healthiness
      - action: action_vibevoice_speak
        next: END

  explain_recipe:
    description: "Explains the nutritional benefits of the recommended recipe."
    steps:
      - action: action_explain_recommendation
      - action: action_vibevoice_speak
        next: END

  handle_allergy:
    nlu_trigger:
      - intent: inform_allergy
    description: "Handles user concerns or information about food allergies."
    steps:
      - action: utter_handle_allergy
      - action: action_vibevoice_speak
      - action: action_continue_interrupted_flow
        next: END